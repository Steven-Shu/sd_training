define("assets/js/main",["ext/jquery-1.11.1.min","./modules/lazyload","./modules/Accordion","./modules/Toggle","./modules/searchSuggest","./modules/dialog","./modules/pushApp","./modules/cookie","./modules/drowDown","./modules/detailCarousel","./modules/Carousel"],function(a){var b=a("ext/jquery-1.11.1.min"),c=a("./modules/lazyload"),d=a("./modules/Accordion"),e=a("./modules/searchSuggest");c(b(".main img"),100,function(){},0),a("./modules/dialog"),a("./modules/pushApp"),new d(b("#J-accordion .mod")),e("#keyWord","#searchSubmit","/suggestionApi"),a("./modules/drowDown"),thumbCarousel=a("./modules/detailCarousel"),Carousel=a("./modules/Carousel"),new Carousel({showPage:!1});var f=b("#J_thumbnail");if(f[0]){new thumbCarousel({prevBtn:b("#J_leftBtn"),nextBtn:b("#J_rightBtn"),box:f,content:b("#J_thumbnail div"),showNum:1}).init()}b("#detailReport").on("click",function(a){a.preventDefault(),b("#dialog-report").modal({hasClose:!0})}),b("#sendReport").on("click",function(c){c.preventDefault();var d=a("./modules/cookie"),e=d.getCookie("userId"),f=d.getCookie("serviceToken");b.ajax({type:"POST",url:"/user/report",dataType:"json",data:{descr:b("#reportContent").val(),appId:"61838",userId:e,serviceToken:f},complete:function(){b("#dialog-report").modal("hide")},statusCode:{401:function(){loginRootUrl="/login?referer="+encodeURIComponent(location.href),b("#J-login").attr("href",loginRootUrl),b("#dialog-login .modal-body p").text("您需要登陆小米帐号才可以举报应用"),b("#dialog-login").modal({hasClose:!1})}}})}),b("#J_modalWeixin").on("click",function(a){a.preventDefault(),b("#J_dialogModalWx").modal()})}),define("assets/js/modules/lazyload",["ext/jquery-1.11.1.min"],function(a){function b(a,b){f.each(a,function(a,c){b&&b.call(c),c=f(c),c.attr("src",c.attr("data-src"))})}function c(a,b,c){for(var d=[],e=[],f=0,h=a.length,i=g.height();f<h;f++)a[f]>b-c&&a[f]<b+i?d.push(a[f]):e.push(a[f]);return{ret:d,newSortArr:e}}function d(a){var b={},c=[];return f.each(a,function(a,d){var e=f(d).offset().top;b[e]||(c.push(e),b[e]=[]),b[e].push(d)}),{cache:b,sortArr:c}}function e(a,e,h,i){var j=d(a),k=j.sortArr,l=j.cache,m=arguments.callee;if(!e)return m(a,200,null,null);if(f.isFunction(e))return m(a,200,e,i);if(h&&!f.isFunction(h)&&!i)return m(a,e,null,h);var n=0,o=function(){var a=g.scrollTop(),d=c(k,a,e);k=d.newSortArr,f.each(d.ret,function(a,c){b(l[c],h),delete l[c]}),0==k.length&&(g.off("scroll",o),g.off("resize",o))};o(),g.on("scroll",function(){n=setTimeout(function(){o()},i)}),g.on("resize",function(){n=setTimeout(function(){o()},i)}),g.on("load",function(){var a=[];f.each(k,function(b,c){f.merge(a,l[c])}),j=d(a),k=j.sortArr,l=j.cache})}var f=a("ext/jquery-1.11.1.min"),g=f(window);return e}),define("assets/js/modules/Accordion",["ext/jquery-1.11.1.min","assets/js/modules/Toggle"],function(a){var b=a("ext/jquery-1.11.1.min"),c=a("assets/js/modules/Toggle");return function(a){if(a[0]){var d=new c({total:a.length});d.on("afterToggle",function(b){if(void 0===b.oldCurrent||b.oldCurrent!=b.current){var c=a.eq(b.current).find("img");c.attr("data-src")&&(c.attr("src",c.attr("data-src")),c.removeAttr("data-src")),void 0!==b.oldCurrent&&a.eq(b.oldCurrent).stop().animate({height:"31px"},300,function(){}),a.eq(b.current).stop().animate({height:"103px"},300,function(){})}}),a.each(function(a,c){var e,c=b(c);c.on({mouseenter:function(){e=setTimeout(function(){d.toggle(a)},200)},mouseleave:function(){e&&clearTimeout(e)}})}),d.toggle(0)}}}),define("assets/js/modules/Toggle",[],function(a){var b=function(a){this.opts=a,this.e={total:a.total},this.total=a.total};return b.prototype={on:function(a,b){var c=this.events=this.events||{};c[a]=c[a]||{},c[a][b]=b},off:function(a,b){var c=this.events=this.events||{};void 0!==b?c[a]&&c[a][b]&&delete c[a][b]:delete c[a]},fire:function(a,b){var c=this.events=this.events||{};if(c[a]){var d=c[a];for(var e in d)d[e]instanceof Function&&d[e](b)}},mix:function(a,b){for(var c in b)a[c]=b[c];return a},toggle:function(a){var b=this;b.fire("beforeToggle",this.mix({type:"beforeToggle"},this.e)),b.e.oldCurrent=this.e.current,b.e.current=a,b.fire("afterToggle",this.mix({type:"afterToggle"},this.e))},next:function(){!this.opts.loop&&this.e.current>this.opts.total||(this.e.current<this.opts.total-1?this.toggle(this.e.current- -1):this.toggle(0))},prev:function(){(this.opts.loop||0!=this.e.current)&&(this.e.current>0?this.toggle(this.e.current-1):this.toggle(this.opts.total-1))},add:function(a){this.opts.total+=a-0},getTotal:function(){return this.opts.total},getCurrent:function(){return this.e.current},setCurrent:function(a){this.e.current=a}},b}),define("assets/js/modules/searchSuggest",["ext/jquery-1.11.1.min"],function(a){function b(a,b,d){var e,f,g,h=c(a),b=c(b),i=!1,j=[];h.attr("autocomplete","off"),h.parent().css("position","relative"),c(".suggestion").length||h.parent().append(c("<div class='suggestion hide'></div>")),h.keydown(function(a){if(38==a.keyCode)return i&&l(-1),!1}),h.keyup(function(a){if(38==a.keyCode)return!1;40==a.keyCode?i&&l(1):e!=h.val()&&k(h.val())});var k=function(a){e=a,i=!0;var b=[];c.ajax({type:"get",dataType:"json",url:d,data:{keywords:a},success:function(d){if(j=d.suggestion,f=j.length){b.push("<ul>");for(var e=0;e<f;e++)b.push("<li>"),b.push(j[e]),b.push("</li>");b.push("</ul>"),c(".suggestion").html(b.join("")),c(".suggestion li").on("mouseover",m),c(".suggestion").show(),c("body").on("click",o),j.push(a),g=f}else n()}})},l=function(a){c(".suggestion li").eq(g).removeClass("current"),g+=parseInt(a),-1==g?g=g+1+f:g==f+1&&(g=0),h.prop("value",j[g]),c(".suggestion li").eq(g).addClass("current")},m=function(){c(".suggestion li").removeClass("current"),c(this).addClass("current"),g=c(".suggestion li").index(c(this))},n=function(a){c(".suggestion").hide(),c(".num").prop("value","-1"),i=!1},o=function(a){var b=a.target||a.srcElement,d=c(b);d.parents(".suggestion").length?(a.stopPropagation(),h.prop("value",d.text()),h.parent().submit()):n(),c("body").off("click",o)}}var c=a("ext/jquery-1.11.1.min");return b}),define("assets/js/modules/dialog",["ext/jquery-1.11.1.min"],function(a){function b(){var a=this,b=this.options.autoCloseTime;this.$element.find("#J-autoclose").append('<span class="resume">('+b+")</span>"),a.timeHandler=setInterval(function(){b--,b>0?f(".resume").text("("+b+")"):a.hide()},1e3)}function c(){this.$element.hide().trigger("hidden"),d.call(this)}function d(a){this.isShown&&this.options.backdrop?(this.$backdrop=f('<div class="modal-backdrop" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(f.proxy(this.hide,this)),a()):!this.isShown&&this.$backdrop?e.call(this):a&&a()}function e(){this.$backdrop.remove(),this.$backdrop=null}var f=a("ext/jquery-1.11.1.min"),g=function(a,b){this.options=b;var c=f(a);this.$element=c.delegate('[data-dismiss="modal"]',"click.dismiss.modal",f.proxy(this.hide,this)),this.options.hasClose&&c.find(".modal-header").prepend('<a href="#" class="close" data-dismiss="modal">×</a>')};g.prototype={constructor:g,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=this,c=f.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.options.autoCloseTime&&b.call(this),this.isShown=!0,d.call(this,function(){a.$element.show(),a.$element.trigger("shown")}))},hide:function(a){a&&a.preventDefault(),a=f.Event("hide"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,c.call(this),this.timeHandler&&(clearInterval(this.timeHandler),this.$element.find(".resume").remove()))}},f.fn.modal=function(a){return this.each(function(){var b=f(this),c=b.data("modal"),d=f.extend({},f.fn.modal.defaults,b.data(),"object"==typeof a&&a);c||b.data("modal",c=new g(this,d)),"string"==typeof a?c[a]():d.show&&c.show()})},f.fn.modal.defaults={backdrop:"static",show:!0,hasClose:!0,autoCloseTime:0},f.fn.modal.Constructor=g,f(function(){f("body").on("click.modal.data-api",'[data-toggle="modal"]',function(a){var b,c=f(this),d=f(c.attr("data-target")||(b=c.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,"")),e=d.data("modal")?"toggle":f.extend({},d.data(),c.data());a.preventDefault(),d.modal(e)})})}),define("assets/js/modules/pushApp",["assets/js/modules/cookie","ext/jquery-1.11.1.min","assets/js/modules/dialog"],function(a){var b=a("assets/js/modules/cookie"),c=a("ext/jquery-1.11.1.min"),d=window.location,e=b.getCookie("userId"),f=b.getCookie("serviceToken"),g=/[`~@#$%^&*={}:;',\[\].<>\/~￥……—【】‘；：”“。，、]/g;a("assets/js/modules/dialog"),c(".app-push").on("click",function(a){a.preventDefault();var h=c(a.currentTarget),i=h.attr("data-id"),j=h.attr("data-name"),k="/login?referer="+encodeURIComponent(d.href);c.ajax({url:"/user/push/app",type:"POST",dataType:"json",data:{appName:j.replace(g,"-")+".apk",id:i,inAjax:1,userId:e,serviceToken:f},success:function(a){switch(a.code){case 1:b.getCookie("noRemind")||(c("#dialog-sucessful .dialog-title").text("推送成功"),c("#dialog-sucessful p").html("已将 “"+j+'” 推送到您的手机<br />请查看手机完成安装。<br />提醒：请确保已经在手机中登录小米账户<div class="modal-noremind"><input type="checkbox" id="J-noremind" /><label for="J-noremind">不再提醒我</label></div>'),c("#dialog-sucessful").modal({hasClose:!1,autoCloseTime:10}),c("#dialog-sucessful").on("hidden",function(){c("#J-noremind")[0].checked&&b.setCookie("noRemind",!0,1)}));var e=-1!=d.pathname.indexOf("detail")?"已推送":"已推";h.parent().parent().find(".install").addClass("pushed").text(e),h.trigger("mouseleave");break;case 3:c("#dialog-sucessful .dialog-title").text("推送中"),c("#dialog-sucessful p").text("服务器正在推送到你的手机.请耐心等待哦"),c("#dialog-sucessful").modal({hasClose:!1,autoCloseTime:10});break;default:c("#dialog-sucessful .dialog-title").text("推送失败"),c("#dialog-sucessful p").text("抱歉！服务器繁忙，推送失败，请稍后再试！"),c("#dialog-sucessful").modal({hasClose:!1,autoCloseTime:9})}},statusCode:{401:function(){c("#J-login").attr("href",k),c("#dialog-login .modal-body p").text("您需要登陆小米帐号才可以安装应用到手机"),c("#dialog-login").modal({hasClose:!1})}}})})}),define("assets/js/modules/cookie",[],function(a){return{getCookie:function(a){var b=document.cookie;if(b.length>0){var c=b.indexOf(a+"=");if(-1!=c)return c=c+a.length+1,end=b.indexOf(";",c),-1==end&&(end=b.length),decodeURIComponent(b.substring(c,end))}},setCookie:function(a,b,c){var d=new Date;d.setDate(d.getDate()+c),document.cookie=a+"="+encodeURIComponent(b)+(null==c?"":";expires="+d.toGMTString())+";path=/"},delCookie:function(a,b){this.getCookie(a)&&(b=b||"/",document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+b)}}}),define("assets/js/modules/drowDown",["ext/jquery-1.11.1.min"],function(a){function b(a){var b=d(a.currentTarget),g=b.parent(),h=g.hasClass("open-dropdown-toggle");c(),h||(g.toggleClass("open-dropdown-toggle"),e=g),a.stopPropagation(),d("html").on("click.dropdown.data-api",function(){c()}),f=g.find(".preventDefault"),0!=f.length&&f.on("click.dropdown.data-api",function(a){a.stopPropagation()})}function c(){null!=e&&(0!=f.length&&f.off("click.dropdown.data-api"),e.removeClass("open-dropdown-toggle"),e=null),d("html").off("click.dropdown.data-api")}var d=a("ext/jquery-1.11.1.min"),e=null,f=[];d("body").on("click.dropdown.data-api",'[data-toggle="dropdown"]',b)}),define("assets/js/modules/detailCarousel",["ext/jquery-1.11.1.min","assets/js/modules/Toggle"],function(a){var b=a("ext/jquery-1.11.1.min"),c=a("assets/js/modules/Toggle"),d=function(a){this.opts=a};return d.prototype={init:function(){var a=this,b=a.opts.content,d=a.opts.box,e=b.find("img");if(0==e.length)return void b.html("No Thumb");var f=new c({total:e.length-a.opts.showNum+1,loop:0});f.on("afterToggle",function(b){a.fx(b),a.preload(b),a.checkBtn(b,e),e.each(function(c,d){this.onload=function(){a.checkBtn(b,e),a.fx(b)}})}),f.toggle(0),d.on({selectstart:function(){return!1},ondragstart:function(){return!1}}),this.opts.prevBtn.on("click",function(a){a.preventDefault(),f.prev()}),this.opts.nextBtn.on("click",function(a){a.preventDefault(),f.next()})},fx:function(a){var b=this,c=b.opts.content,d=b.opts.box,e=c.find("img"),f=d.find("#J_thumbnail_wrap").width()-d.width(),g=b.getWidth(a.current,e);f>0&&g>f&&(a.current=a.total-1,g=f-10),c.stop(!0).animate({"margin-left":0-g},"fast")},getWidth:function(a,c){var d=0;return c.each(function(c,e){c<a&&(d+=b(e).outerWidth(!0))}),d},preload:function(a){for(var b=this.opts.content.find("img"),c=a.current,d=c+this.opts.showNum+2;c<d;c++){var e=b.eq(c);"about:blank"==e.attr("src")&&e.attr("src",e.attr("data-src"))}},checkBtn:function(a,b){var c=this.opts;0==a.current?c.prevBtn.hide("fast"):c.prevBtn.show("fast");for(var d=a.total,e=this.opts.box.width(),f=0,g=0,h=d-1;h>=0&&!(g>=3);h--)g++,f+=b[h].width;d<2||a.current>=d-3&&f<e||a.current>=d-1?c.nextBtn.hide("fast"):c.nextBtn.show("fast")}},d}),define("assets/js/modules/Carousel",["ext/jquery-1.11.1.min"],function(a){var b=a("ext/jquery-1.11.1.min"),c=function(a){var c={id:"#slide",elemets:".slide-mod",showBtn:!0,showPage:!0,time:3e3};b.extend(c,a||{});var d=this.elemets=b(c.elemets);this.curNum=0,this.counts=d.length,this.pages=[],b(d[0]).show(),this._opts=c,this.init(c)};return c.prototype.init=function(a){var c=b("#slide"),d=this;if(a.showBtn){var e=b('<a class="slide-prev" href="#"><i class="icon-btn-left"></i></a>'),f=b('<a class="slide-next" href="#"><i class="icon-btn-right"></i></a>');c.append(e,f)}if(e.on("click",function(a){a.preventDefault(),d.prev()}),f.on("click",function(a){a.preventDefault(),d.next()}),a.showPage){var g=this.slidePage=b('<div class="slide-page"></div>');c.append(g),b(this.elemets).each(function(a,c){var e=b('<a href="#">'+ ++a+"</a>");d.pages.push(e),g.append(e),e.on("click",function(){d.goto(b(this).text())})}),d.pages[0].addClass("current")}var h=setInterval(function(){d.next()},a.time);c.hover(function(){clearInterval(h)},function(){h=setInterval(function(){d.next()},a.time)})},c.prototype.prev=function(){oldNum=this.curNum,--this.curNum<0&&(this.curNum=this.counts-1),this.fade(oldNum,this.curNum)},c.prototype.next=function(){oldNum=this.curNum,++this.curNum>=this.counts&&(this.curNum=0),this.fade(oldNum,this.curNum)},c.prototype.goto=function(a){oldNum=this.curNum,this.curNum=a-1,this.fade(oldNum,this.curNum)},c.prototype.fade=function(a,c){var d=this.elemets;b(d[a]).fadeOut(500),b(d[c]).fadeIn(1e3),this._opts.showPage&&this.updatePage(a,c)},c.prototype.updatePage=function(a,b){var c=this.pages;c[a].removeClass("current"),c[b].addClass("current")},c}),define("assets/js/modules/jquery.pagination",["ext/jquery-1.11.1.min"],function(a,b,c){a("ext/jquery-1.11.1.min").fn.pagination=function(a,b){return b=jQuery.extend({items_per_page:10,num_display_entries:10,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"上一页",next_text:"下一页",ellipse_text:"...",prev_show_always:!0,next_show_always:!0,callback:function(){return!1}},b||{}),this.each(function(){function c(){return Math.ceil(a/b.items_per_page)}function d(){var a=Math.ceil(b.num_display_entries/2),d=c(),e=d-b.num_display_entries;return[g>a?Math.max(Math.min(g-a,e),0):0,g>a?Math.min(g+a,d):Math.min(b.num_display_entries,d)]}function e(a,c){g=a,f();var d=b.callback(a,h);return d||(c.stopPropagation?c.stopPropagation():c.cancelBubble=!0),d}function f(){h.empty();var a=d(),f=c(),i=function(a){return function(b){return e(a,b)}},j=function(a,c){if(a=a<0?0:a<f?a:f-1,c=jQuery.extend({text:a+1,classes:""},c||{}),a==g)var d=jQuery("<span class='current'>"+c.text+"</span>");else var d=jQuery("<a>"+c.text+"</a>").bind("click",i(a)).attr("href",b.link_to.replace(/__id__/,a));c.classes&&d.addClass(c.classes),h.append(d)};if(b.prev_text&&(g>0||b.prev_show_always)&&j(g-1,{text:b.prev_text,classes:"prev"}),a[0]>0&&b.num_edge_entries>0){for(var k=Math.min(b.num_edge_entries,a[0]),l=0;l<k;l++)j(l);b.num_edge_entries<a[0]&&b.ellipse_text&&jQuery("<span>"+b.ellipse_text+"</span>").appendTo(h)}for(var l=a[0];l<a[1];l++)j(l);if(a[1]<f&&b.num_edge_entries>0){f-b.num_edge_entries>a[1]&&b.ellipse_text&&jQuery("<span>"+b.ellipse_text+"</span>").appendTo(h);for(var m=Math.max(f-b.num_edge_entries,a[1]),l=m;l<f;l++)j(l)}b.next_text&&(g<f-1||b.next_show_always)&&j(g+1,{text:b.next_text,classes:"next"})}if(c()<=1)return!1;var g=b.current_page;a=!a||a<0?1:a,b.items_per_page=!b.items_per_page||b.items_per_page<0?1:b.items_per_page;var h=jQuery(this);this.selectPage=function(a){e(a)},this.prevPage=function(){return g>0&&(e(g-1),!0)},this.nextPage=function(){return g<c()-1&&(e(g+1),!0)},f(),b.callback(g,this)})}}),define("assets/js/modules/tools/hash",[],function(a){return{get:function(a){for(var b=location.hash.slice(1).split("&"),c={},d=0,e=b.length;d<e;d++){var f=b[d].split("=");c[f[0]]=f[1]}return c[a]},isSuportHashChange:function(){return"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7)}}}),define("assets/js/modules/securityList",[],function(a,b,c){var d=["com.tencent.qqpimsecure","com.qihoo.appstore","com.qihoo360.mobilesafe","com.qihoo360.mobilesafe_mtk6573","com.qihoo360.mobilesafe.opti.powerctl","com.ijinshan.zhuhai.k8","com.ijinshan.duba","com.ijinshan.browser","com.cleanmaster.mguard_cn","com.ijinshan.ShouJiKong.AndroidDaemon","com.ijinshan.kbatterydoctor","project.rising","com.anguanjia.safe","com.anguanjia.safe.battery","com.autonavi.minimap","com.UCMobile","com.UCMobile.ac","com.uc.browser.hd","com.baidu.input_mi","com.miui.coolwallpaper","com.miui.mitag.pushup","com.xiaomi.router","com.xiaomi.tag","com.xiaomi.ponponalarm","com.xiaomi.gamecenter.sdk.service","com.miui.home","com.miui.mihome2","com.miui.weather2","com.miui.video","com.xiaomi.gamecenter.standalone","com.xiaomi.market","com.android.inputmethod.latin","com.soufun.app","com.android.bankabc","com.baidu.finance","com.cmcc.mobilevideo","com.kugou.android","com.tencent.mtt","com.ijinshan.browser_fast","com.ijinshan.ShouJiKongService","com.antiy.avlpro","com.netqin.ps","com.nqmobile.antivirus20","com.miercnnew.app","cn.kuwo.player","com.ophone.reader.ui"],e=[{pName:"cn.com.syan.trusttracker",organization:"NETCA ClassB Testing and Evaluation CodeSignCA",validity:"2014年06月25日至2015年06月26日",signatureDesc:"该程序使用认证机构颁发的数字证书签名，确保由开发者发布且发布后未经过篡改。"},{pName:"com.hiyoulin.app",organization:"SHECA G2-1",validity:"2014年06月27日至2015年06月27日",signatureDesc:"该程序使用认证机构颁发的数字证书签名，确保由开发者发布且发布后未经过篡改。"}];b.whiteList=d,b.sinatureList=e});